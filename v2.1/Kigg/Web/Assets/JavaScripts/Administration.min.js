var Administration={_lockUserUrl:"",_unlockUserUrl:"",_blockUserUrl:"",_unblockUserUrl:"",_publishUrl:"",set_lockUserUrl:function(A){Administration._lockUserUrl=A},set_unlockUserUrl:function(A){Administration._unlockUserUrl=A},set_blockUserUrl:function(A){Administration._blockUserUrl=A},set_unblockUserUrl:function(A){Administration._unblockUserUrl=A},set_publishUrl:function(A){Administration._publishUrl=A},init:function(){$("#lnkPublish").click(function(){Administration.publish()});$("#lnkChangeRole").click(function(){$("#roleViewSection").hide();$("#roleEditSection").show()});$("#lnkCancelRole").click(function(){$("#roleEditSection").hide();$("#roleViewSection").show()});$("#frmChangeRole").submit(function(){var A={dataType:"json",beforeSubmit:function(B,D,C){$U.disableInputs("#roleEditSection",true);$U.showProgress("Updating role...","#btnChangeRole")},success:function(B){$U.disableInputs("#roleEditSection",false);$U.hideProgress();if(B.isSuccessful){$("#roleEditSection").hide();$("#roleViewSection").show();var C=$("#ddlRoles")[0];$("#spnRole").text(C.options[C.selectedIndex].text)}else{$U.messageBox("Błąd",B.errorMessage,true)}}};$(this).ajaxSubmit(A);return false});$("#frmAllowIps").submit(function(){var A={dataType:"json",beforeSubmit:function(B,D,C){$U.showProgress("Odblokowywanie adresów Ip...","#btnAllowIpAddresses")},success:function(B){$U.hideProgress();if(B.isSuccessful){$U.messageBox("Sukces","Adres Ip użytkownika zezwolony.",false)}else{$U.messageBox("Błąd",B.errorMessage,true)}}};$(this).ajaxSubmit(A);return false})},lockUser:function(B){function A(){var C="id="+encodeURIComponent(B);$.ajax({url:Administration._lockUserUrl,type:"POST",dataType:"json",data:C,beforeSend:function(){$U.showProgress("Blokowanie użytkownika...")},success:function(D){$U.hideProgress();if(D.isSuccessful){$("#lnkLockUser").hide();$("#lnkUnlockUser").show()}else{$U.messageBox("Błąd",D.errorMessage,true)}}})}$U.confirm("Zablokować użytkownika?","Jesteś pewien, że chcesz zablokować tego użytkownika?",A)},unlockUser:function(A){function B(){var C="id="+encodeURIComponent(A);$.ajax({url:Administration._unlockUserUrl,type:"POST",dataType:"json",data:C,beforeSend:function(){$U.showProgress("Odblokowywanie użytkownika...")},success:function(D){$U.hideProgress();if(D.isSuccessful){$("#lnkUnlockUser").hide();$("#lnkLockUser").show()}else{$U.messageBox("Error",D.errorMessage,true)}}})}$U.confirm("Odblokować użytkownika?","Jesteś pewien, że chcesz odblokować tego użytkownika?",B)},publish:function(){function A(){$.ajax({url:Administration._publishUrl,type:"POST",dataType:"json",data:"__MVCASYNCPOST=true",beforeSend:function(){$U.showProgress("Publikacja artykułów...")},success:function(B){$U.hideProgress();if(B.isSuccessful){$U.messageBox("Sukces","Artykuł został opublikowany.",false)}else{$U.messageBox("Błąd",B.errorMessage,true)}}})}$U.confirm("Opublikować?","Jesteś pewien, że chcesz opublikować te artykuły?",A)},dispose:function(){}};